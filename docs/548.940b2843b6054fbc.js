"use strict";(self.webpackChunkhomework_22=self.webpackChunkhomework_22||[]).push([[548],{7548:(_,a,r)=>{r.r(a),r.d(a,{ProductsModule:()=>x});var d=r(6895),c=r(646),g=r(8505),t=r(8256),u=r(529),l=r(4736);let m=(()=>{class n{constructor(){this.regex=/^(.{0,105})/}transform(e){if(e.length>=105){const o=e.match(this.regex);if(o)return o[0]+"..."}return e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=t.Yjl({name:"textLimiter",type:n,pure:!0}),n})();const h=function(n){return["/products",n]};let f=(()=>{class n{constructor(){this.product={}}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["product-card"]],inputs:{product:"product"},decls:13,vars:8,consts:[[1,"card","mb-3"],[1,"card-img-top","overflow-hidden","d-flex","align-items-center",2,"height","220px"],["alt","Tea Package Image",1,"img-fluid",3,"src"],[1,"card-body","text-start"],[1,"card-title"],[1,"card-text"],[1,"row"],[1,"col-6","d-grid"],[1,"btn","btn-primary",3,"routerLink"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1),t._UZ(2,"img",2),t.qZA(),t.TgZ(3,"div",3)(4,"h5",4),t._uU(5),t.qZA(),t.TgZ(6,"p",5),t._uU(7),t.ALo(8,"textLimiter"),t.qZA(),t.TgZ(9,"div",6)(10,"div",7)(11,"a",8),t._uU(12,"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435"),t.qZA()()()()()),2&e&&(t.xp6(2),t.s9C("src",o.product.image,t.LSH),t.xp6(3),t.Oqu(o.product.title),t.xp6(2),t.hij("",t.lcZ(8,4,o.product.description)," "),t.xp6(4),t.Q6J("routerLink",t.VKq(6,h,o.product.id)))},dependencies:[c.yS,m]}),n})();function v(n,i){1&n&&t._UZ(0,"product-card",5),2&n&&t.Q6J("product",i.$implicit)}function C(n,i){1&n&&(t.TgZ(0,"div",6)(1,"div",7),t._UZ(2,"div")(3,"div")(4,"div")(5,"div")(6,"div")(7,"div")(8,"div")(9,"div")(10,"div")(11,"div")(12,"div")(13,"div"),t.qZA()())}const O=function(){return["/order"]},M=[{path:"",component:(()=>{class n{constructor(e,o,s){this.http=e,this.productsService=o,this.router=s,this.pageTitle="\u041d\u0430\u0448\u0438 \u0447\u0430\u0439\u043d\u044b\u0435 \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u0438",this.getProductsSubscription=null,this.productsList=[],this.isLoaderActive=!1}ngOnInit(){this.isLoaderActive=!0;let e="https://testologia.ru/tea";this.productsService.searchingString&&(e+=`?search=${this.productsService.searchingString}`,this.pageTitle=`\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b \u043f\u043e\u0438\u0441\u043a\u0430 \u043f\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u0443 "${this.productsService.searchingString}"`),this.getProductsSubscription=this.http.get(e).pipe((0,g.b)(()=>this.isLoaderActive=!1)).subscribe({next:o=>{o&&o.length>0?(this.productsList=o,this.productsService.productsList=o):this.pageTitle=`\u041f\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u0443 "${this.productsService.searchingString}" \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e`},error:o=>{console.log(o),this.router.navigate(["/"])}})}ngOnDestroy(){this.getProductsSubscription?.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(u.eN),t.Y36(l.s),t.Y36(c.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["catalog"]],decls:6,vars:3,consts:[[1,"products"],[1,"text-center","mb-5"],[1,"row","row-cols-xl-3","row-cols-md-2","row-cols-1","mb-5"],["class","col",3,"product",4,"ngFor","ngForOf"],["class","loader",4,"ngIf"],[1,"col",3,"product"],[1,"loader"],[1,"lds-spinner"]],template:function(e,o){1&e&&(t.TgZ(0,"section",0)(1,"h2",1),t._uU(2),t.qZA(),t.TgZ(3,"div",2),t.YNc(4,v,1,1,"product-card",3),t.qZA(),t.YNc(5,C,14,0,"div",4),t.qZA()),2&e&&(t.xp6(2),t.Oqu(o.pageTitle),t.xp6(2),t.Q6J("ngForOf",o.productsList),t.xp6(1),t.Q6J("ngIf",o.isLoaderActive))},dependencies:[d.sg,d.O5,f],styles:['.loader[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;background-color:#0000004d;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px)}.lds-spinner[_ngcontent-%COMP%], .lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%], .lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:after{box-sizing:border-box}.lds-spinner[_ngcontent-%COMP%]{color:#f5f5f5;display:inline-block;position:relative;width:80px;height:80px}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{transform-origin:40px 40px;animation:lds-spinner 1.2s linear infinite}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:after{content:" ";display:block;position:absolute;top:3.2px;left:36.8px;width:6.4px;height:17.6px;border-radius:20%;background:currentColor}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(1){transform:rotate(0);animation-delay:-1.1s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2){transform:rotate(30deg);animation-delay:-1s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(3){transform:rotate(60deg);animation-delay:-.9s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(4){transform:rotate(90deg);animation-delay:-.8s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(5){transform:rotate(120deg);animation-delay:-.7s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(6){transform:rotate(150deg);animation-delay:-.6s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(7){transform:rotate(180deg);animation-delay:-.5s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(8){transform:rotate(210deg);animation-delay:-.4s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(9){transform:rotate(240deg);animation-delay:-.3s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(10){transform:rotate(270deg);animation-delay:-.2s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(11){transform:rotate(300deg);animation-delay:-.1s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(12){transform:rotate(330deg);animation-delay:0s}@keyframes lds-spinner{0%{opacity:1}to{opacity:0}}']}),n})()},{path:":id",component:(()=>{class n{constructor(e,o,s){this.router=e,this.activatedRoute=o,this.prodctsService=s,this.acivatedRouteSubscription=null,this.product={}}ngOnInit(){this.activatedRoute.params.subscribe(e=>{if(e.id){const o=this.prodctsService.productsList.find(s=>s.id===+e.id);o?this.product=o:(alert(`\u041f\u0440\u043e\u0434\u0443\u043a\u0442 \u0441 ID ${e.id} \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d.`),this.router.navigate(["/products"]))}else alert("\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a."),this.router.navigate(["/"])})}ngOnDestroy(){this.acivatedRouteSubscription?.unsubscribe()}selectProduct(){this.prodctsService.selectedProductTitle=this.product.title}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(c.F0),t.Y36(c.gz),t.Y36(l.s))},n.\u0275cmp=t.Xpm({type:n,selectors:[["product"]],decls:13,vars:6,consts:[[1,"row"],[1,"text-center","mb-5"],[1,"row","mb-5"],[1,"col-6","d-flex","align-items-center"],["alt","Tea Package Image",1,"img-fluid",3,"src"],[1,"col-6","d-flex","align-items-center","justify-content-around","flex-column"],[1,"text-center","w-100","fs-3"],[1,"btn","btn-lg","btn-primary","w-100",3,"routerLink","click"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"h2",1),t._uU(2),t.qZA(),t.TgZ(3,"div",2)(4,"div",3),t._UZ(5,"img",4),t.qZA(),t.TgZ(6,"div",5)(7,"div"),t._uU(8),t.qZA(),t.TgZ(9,"div",6),t._uU(10),t.qZA(),t.TgZ(11,"a",7),t.NdJ("click",function(){return o.selectProduct()}),t._uU(12,"\u041a\u0443\u043f\u0438\u0442\u044c"),t.qZA()()()()),2&e&&(t.xp6(2),t.Oqu(o.product.title),t.xp6(3),t.s9C("src",o.product.image,t.LSH),t.xp6(3),t.Oqu(o.product.description),t.xp6(2),t.hij("\u0410 \u0446\u0435\u043d\u0430 \u0432\u0441\u0435\u0433\u043e ",o.product.price," \u0440."),t.xp6(1),t.Q6J("routerLink",t.DdM(5,O)))},dependencies:[c.yS]}),n})()}];let p=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[c.Bz.forChild(M),c.Bz]}),n})();var y=r(4466);let x=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[d.ez,y.m,p,u.JF,c.Bz,p]}),n})()}}]);