"use strict";(self.webpackChunkhomework_22=self.webpackChunkhomework_22||[]).push([[931],{6931:(F,m,o)=>{o.r(m),o.d(m,{OrderModule:()=>_});var a=o(6895),c=o(646),r=o(433),h=o(8505),e=o(8256),g=o(4736),p=o(529);let y=(()=>{class u{constructor(){}onKeydown(t){t.key.match(/[A-Za-z\u0410-\u042f\u0430-\u044f]/)||t.preventDefault()}}return u.\u0275fac=function(t){return new(t||u)},u.\u0275dir=e.lG2({type:u,selectors:[["","onlyLettersInput",""]],hostBindings:function(t,l){1&t&&e.NdJ("keydown",function(d){return l.onKeydown(d)})}}),u})(),v=(()=>{class u{constructor(t){this.elem=t,this.maxLength=""}onKeydown(t){this.elem.nativeElement.value.length===+this.maxLength&&t.key.match(/[0-9]/)&&t.preventDefault()}}return u.\u0275fac=function(t){return new(t||u)(e.Y36(e.SBq))},u.\u0275dir=e.lG2({type:u,selectors:[["","inputLengthLimiter",""]],hostBindings:function(t,l){1&t&&e.NdJ("keydown",function(d){return l.onKeydown(d)})},inputs:{maxLength:["inputLengthLimiter","maxLength"]}}),u})();function b(u,n){1&u&&(e.TgZ(0,"h2",4),e._uU(1,"\u0421\u0434\u0435\u043b\u0430\u0442\u044c \u0437\u0430\u043a\u0430\u0437"),e.qZA())}function C(u,n){1&u&&(e.TgZ(0,"div",31),e._uU(1,"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0435 \u0440\u0430\u0437."),e.qZA())}const i=function(u){return{"is-invalid":u}};function Z(u,n){if(1&u){const t=e.EpF();e.TgZ(0,"div",5)(1,"div",6)(2,"form",7)(3,"div",8)(4,"label",9),e._uU(5,"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u0442\u043e\u0432\u0430\u0440\u0430"),e.qZA(),e._UZ(6,"input",10),e.qZA(),e.TgZ(7,"div",11)(8,"label",12),e._uU(9,"\u0418\u043c\u044f"),e.qZA(),e._UZ(10,"input",13),e.qZA(),e.TgZ(11,"div",11)(12,"label",14),e._uU(13,"\u0424\u0430\u043c\u0438\u043b\u0438\u044f"),e.qZA(),e._UZ(14,"input",15),e.qZA(),e.TgZ(15,"div",11)(16,"label",16),e._uU(17,"\u0422\u0435\u043b\u0435\u0444\u043e\u043d"),e.qZA(),e._UZ(18,"input",17),e.qZA(),e.TgZ(19,"div",18)(20,"label",19),e._uU(21,"\u0421\u0442\u0440\u0430\u043d\u0430"),e.qZA(),e._UZ(22,"input",20),e.qZA(),e.TgZ(23,"div",21)(24,"label",22),e._uU(25,"\u0418\u043d\u0434\u0435\u043a\u0441"),e.qZA(),e._UZ(26,"input",23),e.qZA(),e.TgZ(27,"div",8)(28,"label",24),e._uU(29,"\u0410\u0434\u0440\u0435\u0441"),e.qZA(),e._UZ(30,"input",25),e.qZA(),e.TgZ(31,"div",8)(32,"label",26),e._uU(33,"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439 \u043a \u0437\u0430\u043a\u0430\u0437\u0443"),e.qZA(),e._UZ(34,"input",27),e.qZA(),e.TgZ(35,"div",28)(36,"button",29),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.processOrder())}),e._uU(37," \u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c "),e.qZA()(),e.YNc(38,C,2,0,"div",30),e.qZA()()()}if(2&u){const t=e.oxw();e.xp6(2),e.Q6J("formGroup",t.orderForm),e.xp6(4),e.uIk("disabled",!0),e.xp6(4),e.Q6J("ngClass",e.VKq(10,i,(null==t.name?null:t.name.invalid)&&((null==t.name?null:t.name.dirty)||(null==t.name?null:t.name.touched)))),e.xp6(4),e.Q6J("ngClass",e.VKq(12,i,(null==t.last_name?null:t.last_name.invalid)&&((null==t.last_name?null:t.last_name.dirty)||(null==t.last_name?null:t.last_name.touched)))),e.xp6(4),e.Q6J("ngClass",e.VKq(14,i,(null==t.phone?null:t.phone.invalid)&&((null==t.phone?null:t.phone.dirty)||(null==t.phone?null:t.phone.touched)))),e.xp6(4),e.Q6J("ngClass",e.VKq(16,i,(null==t.country?null:t.country.invalid)&&((null==t.country?null:t.country.dirty)||(null==t.country?null:t.country.touched)))),e.xp6(4),e.Q6J("ngClass",e.VKq(18,i,(null==t.zip?null:t.zip.invalid)&&((null==t.zip?null:t.zip.dirty)||(null==t.zip?null:t.zip.touched)))),e.xp6(4),e.Q6J("ngClass",e.VKq(20,i,(null==t.address?null:t.address.invalid)&&((null==t.address?null:t.address.dirty)||(null==t.address?null:t.address.touched)))),e.xp6(6),e.Q6J("disabled",!t.orderForm.valid),e.xp6(2),e.Q6J("ngIf",t.responseError)}}function x(u,n){1&u&&(e.TgZ(0,"div",32)(1,"span",33),e._uU(2," \u0421\u043f\u0430\u0441\u0438\u0431\u043e \u0437\u0430 \u0437\u0430\u043a\u0430\u0437! "),e.qZA(),e.TgZ(3,"span",34),e._uU(4," \u041c\u044b \u0441\u0432\u044f\u0436\u0435\u043c\u0441\u044f \u0441 \u0432\u0430\u043c\u0438 \u0432 \u0431\u043b\u0438\u0436\u0430\u0439\u0448\u0435\u0435 \u0432\u0440\u0435\u043c\u044f! "),e.qZA()())}const O=[{path:"",component:(()=>{class u{constructor(t,l,s,d){this.productService=t,this.fb=l,this.http=s,this.router=d,this.successOrder=!1,this.responseError=!1,this.disabledButton=!1,this.processOrderSubscription=null,this.orderForm=this.fb.group({product:["",{validators:[]}],name:["",{validators:[r.kI.required]}],last_name:["",{validators:[r.kI.required]}],phone:["",{validators:[r.kI.required,r.kI.pattern(/^\+?[0-9]{11}$/)]}],country:["",{validators:[r.kI.required]}],zip:["",{validators:[r.kI.required,r.kI.pattern(/^[0-9]{5}$/)]}],address:["",{validators:[r.kI.required,r.kI.pattern(/^[\u0410-\u042f\u0430-\u044fA-Za-z\d\s\-\/]+$/)]}],comment:["",{validators:[]}]})}get name(){return this.orderForm.get("name")}get last_name(){return this.orderForm.get("last_name")}get phone(){return this.orderForm.get("phone")}get country(){return this.orderForm.get("country")}get zip(){return this.orderForm.get("zip")}get address(){return this.orderForm.get("address")}ngOnInit(){this.productService.selectedProductTitle||(alert("\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0442\u043e\u0432\u0430\u0440 \u0438\u0437 \u043a\u0430\u0442\u0430\u043b\u043e\u0433\u0430"),this.router.navigate(["/products"])),this.orderForm.patchValue({product:this.productService.selectedProductTitle})}processOrder(){this.disabledButton=!0,this.processOrderSubscription=this.http.post("https://testologia.ru/order-tea",this.orderForm.value).pipe((0,h.b)(()=>{this.disabledButton=!1})).subscribe(t=>{t&&1===t.success?(this.successOrder=!0,this.orderForm.reset()):this.responseError=!0})}ngOnDestroy(){this.processOrderSubscription?.unsubscribe()}}return u.\u0275fac=function(t){return new(t||u)(e.Y36(g.s),e.Y36(r.qu),e.Y36(p.eN),e.Y36(c.F0))},u.\u0275cmp=e.Xpm({type:u,selectors:[["order"]],decls:4,vars:3,consts:[[1,"order-form"],["class","text-center mb-5","id","form-title",4,"ngIf"],["class","row justify-content-center mb-5","id","form_block",4,"ngIf"],["class","text-center mb-5 d-flex flex-column justify-content-around align-iems-center","style","height: 554px;",4,"ngIf"],["id","form-title",1,"text-center","mb-5"],["id","form_block",1,"row","justify-content-center","mb-5"],[1,"col","col-lg-8","col-xl-6"],["id","orderForm",1,"row","g-3",3,"formGroup"],[1,"col-md-12"],["for","productTitle",1,"form-label"],["type","text","id","productTitle","formControlName","product",1,"form-control"],[1,"col-12","col-md-4"],["for","name",1,"form-label"],["type","text","id","name","formControlName","name","onlyLettersInput","",1,"form-control",3,"ngClass"],["for","surname",1,"form-label"],["type","text","id","surname","formControlName","last_name","onlyLettersInput","",1,"form-control",3,"ngClass"],["for","phone",1,"form-label"],["type","number","id","phone","formControlName","phone",1,"form-control",3,"ngClass"],[1,"col-12","col-md-6"],["for","country",1,"form-label"],["type","text","id","country","formControlName","country",1,"form-control",3,"ngClass"],[1,"col-md-6"],["for","zip",1,"form-label"],["type","number","id","zip","formControlName","zip","inputLengthLimiter","5",1,"form-control",3,"ngClass"],["for","address",1,"form-label"],["type","text","id","address","formControlName","address",1,"form-control",3,"ngClass"],["for","comment",1,"form-label"],["type","text","id","comment","formControlName","comment",1,"form-control"],[1,"col-12","col-md-4","d-grid"],["type","button","id","formSubmit",1,"btn","btn-primary","hvr-sink",3,"disabled","click"],["class","col-md-8","style","color: red;",4,"ngIf"],[1,"col-md-8",2,"color","red"],[1,"text-center","mb-5","d-flex","flex-column","justify-content-around","align-iems-center",2,"height","554px"],[1,"fs-2","d-block"],[1,"fs-3","d-block"]],template:function(t,l){1&t&&(e.TgZ(0,"section",0),e.YNc(1,b,2,0,"h2",1),e.YNc(2,Z,39,22,"div",2),e.YNc(3,x,5,0,"div",3),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngIf",!l.successOrder),e.xp6(1),e.Q6J("ngIf",!l.successOrder),e.xp6(1),e.Q6J("ngIf",l.successOrder))},dependencies:[a.mk,a.O5,y,v,r._Y,r.Fj,r.wV,r.JJ,r.JL,r.sg,r.u],styles:["input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none}input[type=number][_ngcontent-%COMP%]{appearance:textfield}"]}),u})()}];let f=(()=>{class u{}return u.\u0275fac=function(t){return new(t||u)},u.\u0275mod=e.oAB({type:u}),u.\u0275inj=e.cJS({imports:[c.Bz.forChild(O),c.Bz]}),u})();var A=o(4466);let _=(()=>{class u{}return u.\u0275fac=function(t){return new(t||u)},u.\u0275mod=e.oAB({type:u}),u.\u0275inj=e.cJS({imports:[a.ez,A.m,f,p.JF,r.UX,c.Bz,f]}),u})()}}]);